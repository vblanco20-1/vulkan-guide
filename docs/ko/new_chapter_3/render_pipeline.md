---
layout: default
title: The graphics pipeline
parent: "3. Graphics Pipelines"
nav_order: 2
---

지금까지는 렌더링 루프를 구성하고 컴퓨트 셰이더를 사용해 이미지를 그릴 수 있는 방법을 마련했습니다. 하지만 아직은 실제 도형(geometry)을 그리지는 못합니다. 도형을 렌더링하려면 GPU 내부의 특수 하드웨어를 활용해 렌더링을 수행하기 위한 다양한 설정을 담고 있는 그래픽스 파이프라인을 설정해야 합니다. 이러한 작업을 제대로 수행하려면, 어떻게 Vulkan 렌더링 파이프라인이 작동하는지 이해해야 합니다.

## 렌더링 파이프라인
GPU는 도형을 그릴 때 사용되는 다양한 기능을 갖고 있습니다. GPU는 범용 컴퓨팅 유닛과 별개로 렌더링을 위한 전용 하드웨어가 별도로 존재합니다. 이 전용 하드웨어들은 삼각형 혹은 다른 프리미티브를 빠르고 효율적으로 그릴 수 있게 해줍니다.

GPU를 하나의 어셈블리 라인이라고 생각해도 좋습니다. 각 단계에서 서로 다른 작업을 수행하는 여러 구성요소가 있으며, 최종 결과물은 이미지에 렌더링된 픽셀입니다. 이 "어셈블리 라인"을 그래픽스 파이프라인이라 부릅니다.

그래픽스 파이프라인에서는 데이터와 프로그램이 입력되어 픽셀이 출력됩니다. 그래픽스 프로그래머의 일은 이를 요구사항에 맞게 적절히 구성하는 것입니다.

전체 Vulkan 그래픽스 파이프라인은 매우 복잡하므로, 우선 단순한 버전을 살펴볼 것입니다. 렌더링에 사용할 파이프라인을 구성해 나가면서 각 단계에 세부 내용도 함께 다뤄볼 것입니다.

그래픽스 파이프라인은 데이터 입력 → 정점 셰이더 → 래스터화 → 프래그먼트 셰이더 → 렌더링 출력 순으로 이뤄집니다.

두 셰이더 단계에서는 우리가 원하는 작업을 수행하도록 작성된 프로그램이 실행됩니다. 반면 래스터화와 렌더링 출력 단계는 고정된 기능을 수행하며, 이들에 대해서는 매개변수나 설정만 조정할 수 있습니다.

우선 데이터를 준비해야 합니다 이 데이터는 텍스쳐, 3D 모델, 머테리얼 등 우리가 원하는 어떤 것이든 될 수 있습니다. 이러한 데이터는 파이프라인의 각 단계를 거치며 변환되어 결국 화면에 픽셀로 나타나게 됩니다.

정점 셰이더는 모든 정점마다 한 번씩 실행되며, 정점의 위치와 그 외 속성들을 GPU가 이해할 수 있는 형태로 변환해 래스터화 단계에 전달하는 역할을 합니다.

래스터화 단계는 정점 셰이더에서 생성된 정점들을 받아와 삼각형이 화면에서 차지하는 픽셀을 계산합니다. 이렇게 계산된 픽셀들은 프래그먼트 셰이더로 전달됩니다. 이 과정은 그래픽스 파이프라인을 구성할 때 다양한 설정이 필요한 부분입니다.

프래그먼트 셰이더는 이러한 픽셀들을 실제 색상 픽셀로 출력하며, 래스터화 과정으로부터 받은 픽셀마다 한 번씩 실행됩니다.

렌더링 출력 단계에서는 최종 색상 픽셀을 출력 프레임 버퍼에 기록합니다. 이 단계에는 고정 기능 하드웨어 설정들이 포함되어 있으며, 블렌딩이나 깊이 테스트와 같은 작업이 수행됩니다.

다음 글에서는 지금까지 설명한 내용을 바탕으로 실제로 삼각형을 그려보겠습니다.

Next: [ Setting up render pipeline]({{ site.baseurl }}{% link docs/ko/new_chapter_3/building_pipeline.md %})  

{% include comments.html term="Vkguide 2 Beta Comments" %}
